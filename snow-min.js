const snowStorm=function(e,t){const n={autoStart:!0,excludeMobile:!0,flakesMax:200,useGPU:!0,snowColor:"#fff",snowStick:!0,useMeltEffect:!1,flakeWidth:3,flakeHeight:3,vMaxX:2,vMaxY:2,zIndex:9999,checkForHitEveryPixel:2};let o,a,l,i=[],r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),h=1,c=[],f=[],s=0;function d(){c=Array.from(t.querySelectorAll("h1")),s=Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight)}function m(){const t=Math.floor(Math.random()*c.length);let a=Math.random()*o.width,l=-n.flakeHeight;if(Math.random()<.3&&c.length>0){const o=c[t].getBoundingClientRect(),i=o.top+e.scrollY;i>e.scrollY+e.innerHeight&&(a=o.left+Math.random()*o.width,l=i-200*Math.random()-50,l<e.scrollY+e.innerHeight&&(l=e.scrollY-n.flakeHeight))}return{x:a,y:l,vX:(Math.random()-.5)*n.vMaxX,vY:Math.random()*n.vMaxY,rayon:Math.random()*n.flakeWidth,active:!0,accumule:!1,meltFrame:0,twinkleFrame:0,h1Cible:t,offsetX:0,offsetY:0,lastY:l}}function u(){a.clearRect(0,0,o.width,o.height);const t=e.scrollY,r=t+e.innerHeight;i.forEach((l=>{if(l.active&&!l.accumule&&(l.lastY=l.y,l.x+=l.vX*h,l.y+=l.vY,n.snowStick&&Math.floor(l.y)%n.checkForHitEveryPixel==0&&function(t){for(let n=0;n<c.length;n++){const o=c[n].getBoundingClientRect(),a={left:o.left,right:o.right,top:o.top+e.scrollY,bottom:o.bottom+e.scrollY};if(t.x>=a.left&&t.x<=a.right&&t.y>=a.top&&t.lastY<a.top)return t.h1Cible=n,t.accumule=!0,t.offsetX=t.x-o.left,t.offsetY=0,f.push(t),!0}}(l),(l.y>s||l.x<-50||l.x>o.width+50)&&M(l)),n.useMeltEffect&&l.active&&Math.random()>.998&&(l.meltFrame=1),l.meltFrame>0&&(l.rayon-=.2,l.meltFrame++,l.rayon<=0)){if(l.accumule){const e=f.indexOf(l);-1!==e&&f.splice(e,1)}M(l)}n.useTwinkleEffect&&(l.twinkleFrame>0?l.twinkleFrame--:Math.random()>.97&&(l.twinkleFrame=Math.floor(8*Math.random()))),l.active&&!l.accumule&&l.y>=t-100&&l.y<=r+100&&(a.beginPath(),a.arc(l.x,l.y-t,l.rayon,0,2*Math.PI),a.fillStyle=n.snowColor,a.globalAlpha=l.twinkleFrame%2==0?.5:1,a.fill(),a.globalAlpha=1)})),f.forEach((e=>{if(e.h1Cible>=c.length)return;const t=c[e.h1Cible].getBoundingClientRect(),l=t.left+e.offsetX,i=t.top+e.offsetY;i>=2*-e.rayon&&i<=o.height+2*e.rayon&&(a.beginPath(),a.arc(l,i,e.rayon,0,2*Math.PI),a.fillStyle=n.snowColor,a.globalAlpha=e.twinkleFrame%2==0?.5:1,a.fill(),a.globalAlpha=1)}));const d=i.filter((e=>e.active&&!e.accumule)).length;if(d<n.flakesMax){const e=Math.min(n.flakesMax-d,Math.floor(5*Math.random())+1);for(let t=0;t<e;t++)if(i.length<n.flakesMax)i.push(m());else{const e=i.filter((e=>!e.active));if(e.length>0){const t=Math.floor(Math.random()*e.length);M(e[t]),e[t].active=!0}}}l=requestAnimationFrame(u)}function M(t){if(t.accumule){const e=f.indexOf(t);-1!==e&&f.splice(e,1),t.accumule=!1}const a=function(){if(Math.random()<.7||0===c.length)return{x:Math.random()*o.width,y:-n.flakeHeight,h1Index:Math.floor(Math.random()*Math.max(1,c.length))};{const t=Math.floor(Math.random()*c.length),o=c[t].getBoundingClientRect(),a=o.top+e.scrollY;return{x:o.left+Math.random()*o.width,y:Math.max(-n.flakeHeight,a-200*Math.random()-50),h1Index:t}}}();t.x=a.x,t.y=a.y,t.vX=(Math.random()-.5)*n.vMaxX,t.vY=Math.random()*n.vMaxY+1,t.rayon=Math.random()*n.flakeWidth,t.active=!0,t.meltFrame=0,t.twinkleFrame=0,t.h1Cible=a.h1Index,t.lastY=a.y}function g(){o.width=e.innerWidth,o.height=e.innerHeight,d()}function v(e){if(!n.followMouse)return;const t=e.clientX,a=o.width/2;h=t<a?t/a-1:(t-a)/a}function x(){n.excludeMobile&&r||(o=t.getElementById("snowCanvas")||null,o||(o=t.createElement("canvas"),o.id="snowCanvas",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.pointerEvents="none",o.style.zIndex=1e5,t.body.appendChild(o)),o.width=e.innerWidth,o.height=e.innerHeight,a=o.getContext("2d"),d(),function(){d(),i=[],f=[];for(let e=0;e<n.flakesMax;e++){const t=m();e<n.flakesMax/3&&(t.y=Math.random()*s),i.push(t),e>=n.flakesMax&&(t.active=!1)}}(),u(),e.removeEventListener("resize",g),e.addEventListener("resize",g),e.removeEventListener("scroll",d),e.addEventListener("scroll",d),n.followMouse&&(e.removeEventListener("mousemove",v),e.addEventListener("mousemove",v)),n.freezeOnBlur&&(e.removeEventListener("blur",y),e.removeEventListener("focus",w),e.addEventListener("blur",y),e.addEventListener("focus",w)))}function y(){cancelAnimationFrame(l),l=null}function w(){l||u()}return n.autoStart&&e.addEventListener("load",x),{start:x,stop:y,config:n}}(window,document);